(this["webpackJsonpgraph-visualizer"]=this["webpackJsonpgraph-visualizer"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(6),s=n.n(o),l=(n(11),n(12),n(3)),u=n(4),r=n(2),i=n(0);function d(e){var t=e.position,n=e.id,c=e.currentNode,a=e.handleClick,o=e.isDragged;return Object(i.jsxs)("g",{transform:"translate(".concat(t.x,",").concat(t.y,")"),onMouseDown:function(e){e.stopPropagation(),a(n)},className:"node",style:{cursor:"".concat(o?"move":"")},children:[Object(i.jsx)("circle",{r:"20",fill:c===n?"turquoise":"white",stroke:"black",strokeWidth:"4px"}),Object(i.jsx)("text",{x:-4.5*(1+(n>=9)),className:"unselectable",y:"5",fill:"black",children:Number(n)+1})]})}function j(e){var t=e.id,n=e.position,c=e.currentEdge,a=e.handleClick;return Object(i.jsxs)("g",{onMouseDown:function(e){e.stopPropagation(),a(t)},className:"edge",children:[Object(i.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:"rgba(0,0,0,0)",strokeWidth:"15px"}),Object(i.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:c===t?"blue":"black",strokeWidth:"3px"}),Object(i.jsx)("text",{x:(n.x1+n.x2)/2,y:(n.y1+n.y2)/2,className:"unselectable",fill:"black",children:1})]})}n(14);function b(e,t){switch(t.name){case"add-node":return Object(r.a)(Object(r.a)({},e),{},{nodes:Object(r.a)(Object(r.a)({},e.nodes),{},Object(u.a)({},t.value.id,t.value.node))});case"add-edge":return Object(r.a)(Object(r.a)({},e),{},{edges:Object(r.a)(Object(r.a)({},e.edges),{},Object(u.a)({},t.value.id,t.value.edge))});case"delete-node":return delete e.nodes[t.value],e;case"delete-edge":return delete e.edges[t.value],e;default:throw new Error}}function v(){var e=Object(c.useReducer)(b,{nodes:{},edges:{}}),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(null),s=Object(l.a)(o,2),u=s[0],r=s[1],v=Object(c.useState)(null),x=Object(l.a)(v,2),f=x[0],O=x[1],g=Object(c.useState)({x:0,y:0}),h=Object(l.a)(g,2),y=h[0],p=h[1],m=Object(c.useRef)(0),k=Object(c.useRef)(0);function w(e){a({name:"delete-edge",value:e})}function E(e){O(e),r(null)}var N=Object(c.useRef)(""),D=Object(c.useState)(!1),C=Object(l.a)(D,2),M=C[0],S=C[1];function F(e){var t,n;null==u?(r(e),O(null),N.current=setTimeout((function(){S(!0)}),100)):(t=u,n=e,a({name:"add-edge",value:{id:k.current++,edge:{u:t,v:n,w:1}}}),r(null))}return Object(i.jsx)("div",{className:"draw-graph",onMouseDown:function(e){var t,n;null==u?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{id:m.current++,node:{x:t,y:n}}})):r(null),O(null)},onMouseMove:function(e){var t,n;M?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{id:u,node:{x:t,y:n}}})):p({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},onMouseUp:function(){M?(r(null),S(!1)):clearTimeout(N.current)},onKeyDown:function(e){var t;console.log(e.code),"Escape"===e.code&&(r(null),O(null)),"Delete"===e.code&&(null!=f&&w(f),null!=u&&(t=u,Object.entries(n.edges).forEach((function(e){var n=e[0],c=e[1];c.u!==t&&c.v!==t||w(n)})),a({name:"delete-node",value:t})),r(null),O(null))},tabIndex:"0",children:Object(i.jsxs)("svg",{style:{width:"100%",height:"100%"},children:[null!=u&&!1===M&&Object(i.jsx)("line",{x1:n.nodes[u].x,y1:n.nodes[u].y,x2:y.x,y2:y.y,stroke:"black",strokeWidth:"3px"}),Object.entries(n.edges).map((function(e){var t=e[0],c=e[1];return Object(i.jsx)(j,{id:t,position:{x1:n.nodes[c.u].x,y1:n.nodes[c.u].y,x2:n.nodes[c.v].x,y2:n.nodes[c.v].y},currentEdge:f,handleClick:E},t)})),Object.entries(n.nodes).map((function(e){var t=e[0],n=e[1];return Object(i.jsx)(d,{id:t,position:n,handleClick:F,currentNode:u,isDragged:M&&t===u},t)}))]})})}var x=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(v,{})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),f()}},[[15,1,2]]]);
//# sourceMappingURL=main.bc85e2e6.chunk.js.map