(this["webpackJsonpgraph-visualizer"]=this["webpackJsonpgraph-visualizer"]||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(14),i=n.n(r),s=(n(56),n(57),n(8)),o=n(26),d=n(12),u=n(2);function l(e){var t=e.position,n=e.id,c=e.currentNode,a=e.handleClick,r=e.isDragged;return Object(u.jsxs)("g",{transform:"translate(".concat(t.x,",").concat(t.y,")"),onMouseDown:function(e){e.stopPropagation(),a(n)},className:"node",style:{cursor:"".concat(r?"move":"")},children:[Object(u.jsx)("circle",{r:"20",fill:c===n?"#C4EDDE":"white",stroke:"black",strokeWidth:"4px"}),Object(u.jsx)("text",{x:-4.5*(1+(n>=9)),className:"unselectable",y:"5",fill:"black",children:Number(n)})]})}function j(e){var t=e.id,n=e.edge,c=e.position,a=e.currentEdge,r=e.handleClick,i=e.isWeighted,s=e.isDirected,o=e.isCurved,d=n.w,l=180*Math.atan2(c.y2-c.y1,c.x2-c.x1)/Math.PI,j=Math.sqrt(Math.pow(c.x1-c.x2,2)+Math.pow(c.y1-c.y2,2)),b=(c.x1+c.x2)/2,h=5+(c.y1+c.y2)/2,x=c.x2>c.x1,O=l-180*!x,g=""===d?0:-4.5*Math.round(Math.log10(Math.abs(d)+1)+1),f=b+(o?1:0)*(n.u<n.v?1:-1)*((x?1:-1)*Math.min(j/4,50)*Math.sin(l*Math.PI/180)),v=h+(o?1:0)*(n.u<n.v?1:-1)*((x?-1:1)*Math.min(j/4,50)*Math.cos(l*Math.PI/180)),p=o?.25*c.x1+.5*f+.25*c.x2:b,y=o?.25*c.y1+.5*v+.25*c.y2:h,m=o&&n.u>n.v?20:-10,k=.8,N=Math.pow(1-k,2)*c.x1+2*(1-k)*k*f+Math.pow(k,2)*c.x2,w=Math.pow(1-k,2)*c.y1+2*(1-k)*k*v+Math.pow(k,2)*c.y2,S=180*Math.atan2(c.y2-w,c.x2-N)/Math.PI;return Object(u.jsxs)("g",{onMouseDown:function(e){e.stopPropagation(),r(t,"single")},onDoubleClick:function(e){e.stopPropagation(),r(t,"double")},className:"edge",children:[!o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("line",{x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,stroke:"rgba(0,0,0,0)",strokeWidth:"15px"}),Object(u.jsx)("line",{x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,stroke:a&&a===t?"blue":"black",strokeWidth:"3px"})]}),o&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("path",{d:"M ".concat(c.x1," ").concat(c.y1," Q ").concat(f," ").concat(v," ").concat(c.x2," ").concat(c.y2),stroke:"rgba(0,0,0,0)",strokeWidth:"15px",fill:"transparent"}),Object(u.jsx)("path",{d:"M ".concat(c.x1," ").concat(c.y1," Q ").concat(f," ").concat(v," ").concat(c.x2," ").concat(c.y2),stroke:a&&a===t?"blue":"black",strokeWidth:"3px",fill:"transparent"})]}),i&&Object(u.jsx)("text",{x:p,y:y,className:"unselectable",fill:a&&a.id===t?"blue":"black",transform:"rotate(".concat(O," ").concat(p," ").concat(y,") \n          translate(").concat(g," ").concat(m,")"),children:d}),s&&Object(u.jsx)("path",{d:"M ".concat(c.x2," ").concat(c.y2," L ").concat(c.x2+6," ").concat(c.y2+20," \n          L ").concat(c.x2-6," ").concat(c.y2+20," Z"),transform:"rotate(".concat((o?S:l)+90," ").concat(c.x2," ").concat(c.y2,") translate(0 18)"),fill:a&&a===t?"blue":"black"})]})}var b=n(39),h=n.n(b);function x(e){var t=e.currentEdge,n=e.setCurrentEdge,a=e.handleSubmit,r=Object(c.useRef)();return Object(c.useEffect)((function(){t&&r.current&&r.current.focus()}),[t]),Object(u.jsxs)("form",{className:"edit-weight-form",onSubmit:function(e){e.preventDefault(),""!==r.current.value&&(a(t,r.current.value),n(null))},children:[Object(u.jsx)("input",{type:"number",ref:r,autoFocus:!0}),Object(u.jsx)("button",{type:"submit",children:Object(u.jsx)(h.a,{fontSize:"inherit",style:{marginTop:"2px",color:"white"}})})]})}function O(){return Object(u.jsxs)("ul",{className:"instructions",children:[Object(u.jsx)("h2",{children:"Instructions"}),Object(u.jsx)("li",{children:"Click in an empty space to create a node"}),Object(u.jsx)("li",{children:"Click a node and then click another to create an edge"}),Object(u.jsx)("li",{children:"Drag nodes by pressing and releasing"}),Object(u.jsx)("li",{children:'Click a node or an edge and then press "Delete" to remove them'}),Object(u.jsx)("li",{children:"Double click an edge to change its weight (if weights are activated)"})]})}var g=n(41),f=n.n(g),v=n(86);function p(e){var t=e.graphData,n=e.setGraph,a=Object(c.useState)(!1),r=Object(s.a)(a,2),i=r[0],o=r[1],d=Object(c.useReducer)((function(e){return!e}),!1),l=Object(s.a)(d,2),j=l[0],b=l[1],h=Object(c.useState)(""),x=Object(s.a)(h,2),O=x[0],g=x[1];return Object(u.jsxs)("div",{className:"import-export",children:[Object(u.jsx)("h2",{className:"export-name",onClick:function(){return b()},children:"Export"}),!j&&Object(u.jsxs)("div",{className:"export-box",children:[Object(u.jsx)(f.a,{className:"copy-icon",onClick:function(){navigator.clipboard.writeText(JSON.stringify(t,null,"\t")),o(!0)}}),Object(u.jsx)("textarea",{value:JSON.stringify(t,null,"\t"),readOnly:!0}),Object(u.jsx)(v.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:500,open:i,onClose:function(){return o(!1)},message:"Copied to clipboard!"})]}),Object(u.jsx)("h2",{className:"import-name",onClick:function(){return b()},children:"Import"}),j&&Object(u.jsx)("div",{className:"import-box",children:Object(u.jsx)("textarea",{value:O,onChange:function(e){return g(e.target.value)}})}),j&&Object(u.jsx)("div",{className:"import-button",onClick:function(){return n(JSON.parse(O))},children:"Submit"})]})}var y=n(42),m=n.n(y);function k(){return Object(u.jsxs)("div",{className:"draw-graph-button",children:[Object(u.jsx)(m.a,{fontSize:"inherit"}),Object(u.jsx)("h3",{children:"Back"})]})}function N(){return Object(u.jsx)("div",{className:"draw-graph-button",children:Object(u.jsx)("h3",{children:"Finish"})})}var w=n(89);function S(e){var t=e.isWeighted,n=e.setIsWeighted;return Object(u.jsxs)("div",{className:"draw-graph-checkbox grid-left",children:[Object(u.jsx)("h3",{children:"Weighted edges"}),Object(u.jsx)(w.a,{checked:t,onChange:function(e){n(e.target.checked)},color:"secondary"})]})}function D(e){var t=e.isDirected,n=e.setIsDirected;return Object(u.jsxs)("div",{className:"draw-graph-checkbox grid-right",children:[Object(u.jsx)("h3",{children:"Directed edges"}),Object(u.jsx)(w.a,{checked:t,onChange:function(e){n(e.target.checked)},color:"secondary"})]})}var M=n(43),C=n.n(M);function E(e){var t=e.resetGraph;return Object(u.jsxs)("div",{className:"draw-graph-button",onClick:t,children:[Object(u.jsx)("h3",{children:"New"}),Object(u.jsx)(C.a,{fontSize:"inherit"})]})}function W(e){var t=e.x1,n=e.y1,c=e.x2,a=e.y2,r=180*Math.atan2(a-n,c-t)/Math.PI;return Object(u.jsxs)("g",{children:[Object(u.jsx)("line",{x1:t,y1:n,x2:c,y2:a,stroke:"black",strokeWidth:"3px"}),Object(u.jsx)("path",{d:"M ".concat(c," ").concat(a," L ").concat(c+6," ").concat(a+20," \n          L ").concat(c-6," ").concat(a+20," Z"),transform:"rotate(".concat(r+90," ").concat(c," ").concat(a,")")})]})}var I=n(87);n(64),n(65);function J(e){return Object(u.jsx)(I.a,Object(d.a)({elevation:6,variant:"filled"},e))}function P(e,t){var n,c;switch(t.name){case"add-node":return Object(d.a)(Object(d.a)({},e),{},{nodes:Object(d.a)(Object(d.a)({},e.nodes),{},Object(o.a)({},null!==(n=t.value.id)&&void 0!==n?n:e.topNode,t.value.node)),topNode:e.topNode+(void 0===t.value.id?1:0)});case"add-edge":return Object(d.a)(Object(d.a)({},e),{},{edges:Object(d.a)(Object(d.a)({},e.edges),{},Object(o.a)({},null!==(c=t.value.id)&&void 0!==c?c:e.topEdge,t.value.edge)),topEdge:e.topEdge+(void 0===t.value.id?1:0)});case"delete-node":return delete e.nodes[t.value],e;case"edit-edge":return e.edges[t.value.id].w=t.value.weight,e;case"delete-edge":return delete e.edges[t.value],e;case"set-graph":return t.value;case"set-isWeighted":return Object(d.a)(Object(d.a)({},e),{},{isWeighted:t.value});case"set-isDirected":return Object(d.a)(Object(d.a)({},e),{},{isDirected:t.value});default:throw new Error}}function F(){var e={topNode:0,topEdge:0,isWeighted:!1,isDirected:!1,nodes:{},edges:{}},t=Object(c.useReducer)(P,e),n=Object(s.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(null),o=Object(s.a)(i,2),d=o[0],b=o[1],h=Object(c.useState)(null),g=Object(s.a)(h,2),f=g[0],y=g[1],m=Object(c.useState)(!1),w=Object(s.a)(m,2),M=w[0],C=w[1],I=Object(c.useState)(""),F=Object(s.a)(I,2),T=F[0],z=F[1],L=Object(c.useState)(!1),G=Object(s.a)(L,2),R=G[0],B=G[1],X=Object(c.useState)({x:0,y:0}),Y=Object(s.a)(X,2),H=Y[0],Q=Y[1],Z=Object(c.useState)((function(){return new Set})),q=Object(s.a)(Z,2),A=q[0],K=q[1];function U(e){K((function(t){return new Set(t).add(e)}))}var V=Object(c.useState)(!1),$=Object(s.a)(V,2),_=$[0],ee=$[1];function te(e){var t;A.has(JSON.stringify([a.edges[e].v,a.edges[e].u]))&&B(!1),t=JSON.stringify([a.edges[e].u,a.edges[e].v]),K((function(e){var n=new Set(e);return n.delete(t),n})),r({name:"delete-edge",value:e})}function ne(e,t){y(e),b(null),"double"===t&&ee(!0)}Object(c.useEffect)((function(){null===f&&ee(!1)}),[f]);var ce=Object(c.useRef)(""),ae=Object(c.useState)(!1),re=Object(s.a)(ae,2),ie=re[0],se=re[1];function oe(e){null==d?(de(),b(e),ce.current=setTimeout((function(){se(!0)}),100)):(!function(e,t){if(e!==t){if(A.has(JSON.stringify([e,t])))return z("Edge already exists!"),void C(!0);if(!a.isDirected&&A.has(JSON.stringify([t,e])))return z("Graph needs to be directed to add double edges!"),void C(!0);A.has(JSON.stringify([t,e]))&&B(!0),U(JSON.stringify([e,t])),r({name:"add-edge",value:{edge:{u:e,v:t,w:1}}})}}(d,e),b(null))}function de(){b(null),y(null)}function ue(e){r({name:"set-graph",value:e}),A.clear(),Object.values(e.edges).forEach((function(e){U(JSON.stringify([e.u,e.v]))}))}return Object(u.jsx)("div",{className:"popup-out",children:Object(u.jsxs)("div",{className:"draw-graph-container popup-in",children:[Object(u.jsx)(O,{}),Object(u.jsxs)("svg",{className:"draw-graph",onMouseDown:function(e){var t,n;null==d&&null==f?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r({name:"add-node",value:{node:{x:t,y:n}}})):de()},onMouseMove:function(e){var t,n;ie?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r({name:"add-node",value:{id:d,node:{x:t,y:n}}})):Q({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},onMouseUp:function(){ie?(b(null),se(!1)):clearTimeout(ce.current)},onKeyDown:function(e){var t;"Escape"===e.code&&(b(null),y(null)),"Delete"===e.code&&(null!=f&&te(f),null!=d&&(t=d,Object.entries(a.edges).forEach((function(e){var n=e[0],c=e[1];c.u!==t&&c.v!==t||te(n)})),r({name:"delete-node",value:t})),b(null),y(null))},tabIndex:"0",children:[null!=d&&!1===ie&&Object(u.jsx)(W,{x1:a.nodes[d].x,y1:a.nodes[d].y,x2:H.x,y2:H.y}),Object.entries(a.edges).map((function(e){var t=e[0],n=e[1];return Object(u.jsx)(j,{id:t,edge:n,currentEdge:f,position:{x1:a.nodes[n.u].x,y1:a.nodes[n.u].y,x2:a.nodes[n.v].x,y2:a.nodes[n.v].y},setCurrentEdge:y,handleClick:ne,isWeighted:a.isWeighted,isDirected:a.isDirected,isCurved:A.has(JSON.stringify([n.v,n.u]))},t)})),Object.entries(a.nodes).map((function(e){var t=e[0],n=e[1];return Object(u.jsx)(l,{id:t,position:n,handleClick:oe,currentNode:d,isDragged:ie&&t===d},t)}))]}),Object(u.jsx)(v.a,{open:M,autoHideDuration:2500,onClose:function(e,t){"clickaway"!==t&&C(!1)},children:Object(u.jsx)(J,{onClose:function(e,t){"clickaway"!==t&&C(!1)},severity:"error",children:T})}),_&&a.isWeighted&&Object(u.jsx)(x,{currentEdge:f,setCurrentEdge:y,handleSubmit:function(e,t){r({name:"edit-edge",value:{id:e,weight:t}})}}),Object(u.jsx)(p,{graphData:a,setGraph:ue}),Object(u.jsx)(k,{}),Object(u.jsx)(S,{isWeighted:a.isWeighted,setIsWeighted:function(e){return r({name:"set-isWeighted",value:e})}}),Object(u.jsx)(N,{}),Object(u.jsx)(D,{isDirected:a.isDirected,setIsDirected:function(e){if(R&&!1===e)return z("There is a double edge, graph can't be undirected until one of the edges is removed"),void C(!0);r({name:"set-isDirected",value:e})}}),Object(u.jsx)(E,{resetGraph:function(){return ue(e)}})]})})}var T=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(F,{})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(T,{})}),document.getElementById("root")),z()}},[[66,1,2]]]);
//# sourceMappingURL=main.477fc3c8.chunk.js.map