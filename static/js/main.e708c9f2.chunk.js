(this["webpackJsonpgraph-visualizer"]=this["webpackJsonpgraph-visualizer"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(7),i=n.n(s),r=(n(16),n(17),n(4)),o=n(5),u=n(3),l=n(1);function d(e){var t=e.position,n=e.id,c=e.currentNode,a=e.handleClick,s=e.isDragged;return Object(l.jsxs)("g",{transform:"translate(".concat(t.x,",").concat(t.y,")"),onMouseDown:function(e){e.stopPropagation(),a(n)},className:"node",style:{cursor:"".concat(s?"move":"")},children:[Object(l.jsx)("circle",{r:"20",fill:c===n?"#C4EDDE":"white",stroke:"black",strokeWidth:"4px"}),Object(l.jsx)("text",{x:-4.5*(1+(n>=9)),className:"unselectable",y:"5",fill:"black",children:Number(n)+1})]})}function j(e){var t=e.id,n=e.position,c=e.weight,a=e.currentEdge,s=e.handleClick,i=Math.atan2(n.y2-n.y1,n.x2-n.x1),r=(n.x1+n.x2)/2,o=5+(n.y1+n.y2)/2,u=n.x2>n.x1,d=r+10*(u?1:-1)*Math.sin(i),j=o+10*(u?-1:1)*Math.cos(i),b=180*i/Math.PI-180*!u,x=-4.5*Math.round(Math.log10(Math.abs(c))+1);return Object(l.jsxs)("g",{onMouseDown:function(e){e.stopPropagation(),s({id:t,textPosX:d,textPosY:j})},className:"edge",children:[Object(l.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:"rgba(0,0,0,0)",strokeWidth:"15px"}),Object(l.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:a&&a.id===t?"blue":"black",strokeWidth:"3px"}),Object(l.jsx)("text",{x:d,y:j,className:"unselectable",fill:a&&a.id===t?"blue":"black",transform:"rotate(".concat(b," ").concat(d," ").concat(j,") translate(").concat(x,")"),children:c})]})}var b=n(9),x=n.n(b);function h(e){var t=e.currentEdge,n=e.setCurrentEdge,a=e.handleSubmit,s=Object(c.useRef)();return Object(c.useEffect)((function(){t&&s.current&&s.current.focus()}),[t]),Object(l.jsxs)("form",{className:"edit-weight-form",onSubmit:function(e){e.preventDefault(),""!==s.current.value&&(a(t.id,s.current.value),n(null))},style:{left:"calc(".concat(t.textPosX,"px + (100vw - 480px) / 2)"),top:"calc(".concat(t.textPosY,"px + 63px)")},children:[Object(l.jsx)("input",{type:"number",ref:s,autoFocus:!0}),Object(l.jsx)("button",{type:"submit",children:Object(l.jsx)(x.a,{fontSize:"inherit",style:{marginTop:"2px",color:"white"}})})]})}n(27),n(28);function O(e,t){switch(t.name){case"add-node":return Object(u.a)(Object(u.a)({},e),{},{nodes:Object(u.a)(Object(u.a)({},e.nodes),{},Object(o.a)({},t.value.id,t.value.node))});case"add-edge":return Object(u.a)(Object(u.a)({},e),{},{edges:Object(u.a)(Object(u.a)({},e.edges),{},Object(o.a)({},t.value.id,t.value.edge))});case"delete-node":return delete e.nodes[t.value],e;case"edit-edge":return e.edges[t.value.id].w=t.value.weight,e;case"delete-edge":return delete e.edges[t.value],e;default:throw new Error}}function f(){var e=Object(c.useReducer)(O,{nodes:{},edges:{}}),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),i=Object(r.a)(s,2),o=i[0],u=i[1],b=Object(c.useState)(null),x=Object(r.a)(b,2),f=x[0],v=x[1],g=Object(c.useState)({x:0,y:0}),p=Object(r.a)(g,2),y=p[0],m=p[1],w=Object(c.useState)(!0),k=Object(r.a)(w,2),E=k[0],M=(k[1],Object(c.useRef)(0)),N=Object(c.useRef)(0);function C(e){a({name:"delete-edge",value:e})}function D(e){v(e),u(null)}var S=Object(c.useRef)(""),P=Object(c.useState)(!1),F=Object(r.a)(P,2),I=F[0],R=F[1];function T(e){var t,n;null==o?(W(),u(e),S.current=setTimeout((function(){R(!0)}),100)):(t=o,n=e,a({name:"add-edge",value:{id:N.current++,edge:{u:t,v:n,w:1}}}),u(null))}function W(){u(null),v(null)}return Object(l.jsx)("div",{className:"popup-out",children:Object(l.jsxs)("div",{className:"draw-graph-container popup-in",children:[Object(l.jsxs)("ul",{className:"instructions",children:[Object(l.jsx)("h2",{children:"Instructions"}),Object(l.jsx)("li",{children:"Click in an empty space to create a node"}),Object(l.jsx)("li",{children:"Click a node and then click another to create an edge"}),Object(l.jsx)("li",{children:"Drag nodes by pressing and releasing"}),Object(l.jsx)("li",{children:"Use weights and directions to change your edges"})]}),Object(l.jsxs)("svg",{className:"draw-graph",onMouseDown:function(e){var t,n;null==o&&null==f?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{id:M.current++,node:{x:t,y:n}}})):W()},onMouseMove:function(e){var t,n;I?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{id:o,node:{x:t,y:n}}})):m({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},onMouseUp:function(){I?(u(null),R(!1)):clearTimeout(S.current)},onKeyDown:function(e){var t;"Escape"===e.code&&(u(null),v(null)),"Delete"===e.code&&(null!=f&&C(f),null!=o&&(t=o,Object.entries(n.edges).forEach((function(e){var n=e[0],c=e[1];c.u!==t&&c.v!==t||C(n)})),a({name:"delete-node",value:t})),u(null),v(null))},tabIndex:"0",children:[null!=o&&!1===I&&Object(l.jsx)("line",{x1:n.nodes[o].x,y1:n.nodes[o].y,x2:y.x,y2:y.y,stroke:"black",strokeWidth:"3px"}),Object.entries(n.edges).map((function(e){var t=e[0],c=e[1];return Object(l.jsx)(j,{id:t,weight:E?c.w:"",position:{x1:n.nodes[c.u].x,y1:n.nodes[c.u].y,x2:n.nodes[c.v].x,y2:n.nodes[c.v].y},currentEdge:f,setCurrentEdge:v,handleClick:D},t)})),Object.entries(n.nodes).map((function(e){var t=e[0],n=e[1];return Object(l.jsx)(d,{id:t,position:n,handleClick:T,currentNode:o,isDragged:I&&t===o},t)}))]}),null!=f&&Object(l.jsx)(h,{currentEdge:f,setCurrentEdge:v,handleSubmit:function(e,t){a({name:"edit-edge",value:{id:e,weight:t}})}}),Object(l.jsx)("div",{children:"Input/Output "}),Object(l.jsx)("div",{children:"Use Weights"}),Object(l.jsx)("div",{children:"Use Directed edges"}),Object(l.jsx)("div",{children:"Finish"}),Object(l.jsx)("div",{children:"New"})]})})}var v=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(f,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),g()}},[[30,1,2]]]);
//# sourceMappingURL=main.e708c9f2.chunk.js.map