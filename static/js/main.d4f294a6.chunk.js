(this["webpackJsonpgraph-visualizer"]=this["webpackJsonpgraph-visualizer"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(12),o=n.n(s),i=(n(50),n(51),n(14)),r=n(25),l=n(15),u=n(2);function d(e){var t=e.position,n=e.id,c=e.currentNode,a=e.handleClick,s=e.isDragged;return Object(u.jsxs)("g",{transform:"translate(".concat(t.x,",").concat(t.y,")"),onMouseDown:function(e){e.stopPropagation(),a(n)},className:"node",style:{cursor:"".concat(s?"move":"")},children:[Object(u.jsx)("circle",{r:"20",fill:c===n?"#C4EDDE":"white",stroke:"black",strokeWidth:"4px"}),Object(u.jsx)("text",{x:-4.5*(1+(n>=9)),className:"unselectable",y:"5",fill:"black",children:Number(n)+1})]})}function j(e){var t=e.id,n=e.position,c=e.weight,a=e.currentEdge,s=e.handleClick,o=Math.atan2(n.y2-n.y1,n.x2-n.x1),i=(n.x1+n.x2)/2,r=5+(n.y1+n.y2)/2,l=n.x2>n.x1,d=i+10*(l?1:-1)*Math.sin(o),j=r+10*(l?-1:1)*Math.cos(o),b=180*o/Math.PI-180*!l,h=""===c?0:-4.5*Math.round(Math.log10(Math.abs(c))+1);return Object(u.jsxs)("g",{onMouseDown:function(e){e.stopPropagation(),s({id:t,textPosX:d,textPosY:j})},className:"edge",children:[Object(u.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:"rgba(0,0,0,0)",strokeWidth:"15px"}),Object(u.jsx)("line",{x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,stroke:a&&a.id===t?"blue":"black",strokeWidth:"3px"}),Object(u.jsx)("text",{x:d,y:j,className:"unselectable",fill:a&&a.id===t?"blue":"black",transform:"rotate(".concat(b," ").concat(d," ").concat(j,") translate(").concat(h,")"),children:c})]})}var b=n(37),h=n.n(b);function x(e){var t=e.currentEdge,n=e.setCurrentEdge,a=e.handleSubmit,s=Object(c.useRef)();return Object(c.useEffect)((function(){t&&s.current&&s.current.focus()}),[t]),Object(u.jsxs)("form",{className:"edit-weight-form",onSubmit:function(e){e.preventDefault(),""!==s.current.value&&(a(t.id,s.current.value),n(null))},style:{left:"calc(".concat(t.textPosX,"px + (100vw - 480px) / 2)"),top:"calc(".concat(t.textPosY,"px + 63px)")},children:[Object(u.jsx)("input",{type:"number",ref:s,autoFocus:!0}),Object(u.jsx)("button",{type:"submit",children:Object(u.jsx)(h.a,{fontSize:"inherit",style:{marginTop:"2px",color:"white"}})})]})}var O=n(82),g=n(40),p=n.n(g),v=n(41),f=n.n(v),m=n(39),y=n.n(m),k=n(83);n(58),n(59);function N(e,t){var n,c;switch(t.name){case"add-node":return Object(l.a)(Object(l.a)({},e),{},{nodes:Object(l.a)(Object(l.a)({},e.nodes),{},Object(r.a)({},null!==(n=t.value.id)&&void 0!==n?n:e.topNode,t.value.node)),topNode:e.topNode+(null!==t.value.id)});case"add-edge":return Object(l.a)(Object(l.a)({},e),{},{edges:Object(l.a)(Object(l.a)({},e.edges),{},Object(r.a)({},null!==(c=t.value.id)&&void 0!==c?c:e.topEdge,t.value.edge)),topEdge:e.topEdge+(null!==t.value.id)});case"delete-node":return delete e.nodes[t.value],e;case"edit-edge":return e.edges[t.value.id].w=t.value.weight,e;case"delete-edge":return delete e.edges[t.value.id],e;case"set-graph":return t.value;default:throw new Error}}function w(){var e=Object(c.useReducer)(N,{topNode:0,topEdge:0,nodes:{},edges:{}}),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(i.a)(s,2),r=o[0],l=o[1],b=Object(c.useState)(null),h=Object(i.a)(b,2),g=h[0],v=h[1],m=Object(c.useState)({x:0,y:0}),w=Object(i.a)(m,2),E=w[0],C=w[1],S=Object(c.useState)(!1),D=Object(i.a)(S,2),M=D[0],P=D[1],z=Object(c.useState)(!1),F=Object(i.a)(z,2),I=F[0],T=F[1];function J(e){a({name:"delete-edge",value:e})}function W(e){v(e),l(null)}var X=Object(c.useRef)(""),Y=Object(c.useState)(!1),B=Object(i.a)(Y,2),R=B[0],L=B[1];function U(e){null==r?(A(),l(e),X.current=setTimeout((function(){L(!0)}),100)):(a({name:"add-edge",value:{edge:{u:r,v:e,w:1}}}),l(null))}function A(){l(null),v(null)}function H(e){a({name:"set-graph",value:e})}var K=Object(c.useState)(!0),q=Object(i.a)(K,2),G=q[0],Q=q[1],V=Object(c.useState)(""),Z=Object(i.a)(V,2),$=Z[0],_=Z[1],ee=Object(c.useState)(!1),te=Object(i.a)(ee,2),ne=te[0],ce=te[1];return Object(u.jsx)("div",{className:"popup-out",children:Object(u.jsxs)("div",{className:"draw-graph-container popup-in",children:[Object(u.jsxs)("ul",{className:"instructions",children:[Object(u.jsx)("h2",{children:"Instructions"}),Object(u.jsx)("li",{children:"Click in an empty space to create a node"}),Object(u.jsx)("li",{children:"Click a node and then click another to create an edge"}),Object(u.jsx)("li",{children:"Drag nodes by pressing and releasing"}),Object(u.jsx)("li",{children:"Use weights and directions to change your edges"})]}),Object(u.jsxs)("svg",{className:"draw-graph",onMouseDown:function(e){var t,n;null==r&&null==g?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{node:{x:t,y:n}}})):A()},onMouseMove:function(e){var t,n;R?(t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,a({name:"add-node",value:{id:r,node:{x:t,y:n}}})):C({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})},onMouseUp:function(){R?(l(null),L(!1)):clearTimeout(X.current)},onKeyDown:function(e){var t;"Escape"===e.code&&(l(null),v(null)),"Delete"===e.code&&(null!=g&&(J(g),console.log("Deleting..")),null!=r&&(t=r,Object.entries(n.edges).forEach((function(e){var n=e[0],c=e[1];c.u!==t&&c.v!==t||J(n)})),a({name:"delete-node",value:t})),l(null),v(null))},tabIndex:"0",children:[null!=r&&!1===R&&Object(u.jsx)("line",{x1:n.nodes[r].x,y1:n.nodes[r].y,x2:E.x,y2:E.y,stroke:"black",strokeWidth:"3px"}),Object.entries(n.edges).map((function(e){var t=e[0],c=e[1];return Object(u.jsx)(j,{id:t,weight:M?c.w:"",position:{x1:n.nodes[c.u].x,y1:n.nodes[c.u].y,x2:n.nodes[c.v].x,y2:n.nodes[c.v].y},currentEdge:g,setCurrentEdge:v,handleClick:W},t)})),Object.entries(n.nodes).map((function(e){var t=e[0],n=e[1];return Object(u.jsx)(d,{id:t,position:n,handleClick:U,currentNode:r,isDragged:R&&t===r},t)}))]}),null!=g&&M&&Object(u.jsx)(x,{currentEdge:g,setCurrentEdge:v,handleSubmit:function(e,t){a({name:"edit-edge",value:{id:e,weight:t}})}}),Object(u.jsxs)("div",{className:"input-output",children:[Object(u.jsx)("h2",{className:"output-name",onClick:function(){return Q(!1)},children:"Export"}),!G&&Object(u.jsxs)("div",{className:"output-box",children:[Object(u.jsx)(y.a,{className:"copy-icon",onClick:function(){navigator.clipboard.writeText(JSON.stringify(n,null,"\t")),ce(!0)}}),Object(u.jsx)("textarea",{value:JSON.stringify(n,null,"\t")}),Object(u.jsx)(k.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:500,open:ne,onClose:function(){return ce(!1)},message:"Copied to clipboard!"})]}),Object(u.jsx)("h2",{className:"input-name",onClick:function(){return Q(!0)},children:"Import"}),G&&Object(u.jsx)("div",{className:"input-box",children:Object(u.jsx)("textarea",{value:$,onChange:function(e){return _(e.target.value)}})}),G&&Object(u.jsx)("div",{className:"input-button",onClick:function(){return H(JSON.parse($))},children:"Submit"})]}),Object(u.jsxs)("div",{className:"draw-graph-button",children:[Object(u.jsx)(p.a,{fontSize:"inherit"}),Object(u.jsx)("h3",{children:"Back"})]}),Object(u.jsxs)("div",{className:"draw-graph-checkbox grid-left",children:[Object(u.jsx)("h3",{children:"Weighted edges"}),Object(u.jsx)(O.a,{checked:M,onChange:function(e){P(e.target.checked)},color:"secondary"})]}),Object(u.jsx)("div",{className:"draw-graph-button",children:Object(u.jsx)("h3",{children:"Finish"})}),Object(u.jsxs)("div",{className:"draw-graph-checkbox grid-right",children:[Object(u.jsx)("h3",{children:"Directed edges"}),Object(u.jsx)(O.a,{checked:I,onChange:function(e){T(e.target.checked)},color:"secondary"})]}),Object(u.jsxs)("div",{className:"draw-graph-button",onClick:function(){return H({topNode:0,topEdge:0,nodes:{},edges:{}})},children:[Object(u.jsx)("h3",{children:"New"}),Object(u.jsx)(f.a,{fontSize:"inherit"})]})]})})}var E=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(w,{})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),s(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root")),C()}},[[61,1,2]]]);
//# sourceMappingURL=main.d4f294a6.chunk.js.map